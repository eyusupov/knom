@prefix : <http://example.org/>.
@prefix log: <http://www.w3.org/2000/10/swap/log#> .

{
    
    ( { ?c a :CompositeTask. ?c :subTask ?s } { ?s :state :Completed } ) log:forAllIn {
        :c a :CompositeTask ;
            :subTask :s1 , :s2 , :s3 .
        :s1 :state :Completed .
        :s2 :state :Incomplete . 
        :s3 :state :Completed .
    }.
}
=>
{
    :task :is :Completed .
} . 
